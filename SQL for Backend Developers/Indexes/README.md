
### Hi·ªÉu v·ªÅ Ch·ªâ m·ª•c C∆° s·ªü D·ªØ li·ªáu - ƒê∆∞·ª£c gi·∫£i th√≠ch b·∫±ng v√≠ d·ª•

L√† m·ªôt quy t·∫Øc chung, th·ªùi gian truy v·∫•n tƒÉng l√™n khi d·ªØ li·ªáu tƒÉng. H·∫ßu h·∫øt c√°c h·ªá qu·∫£n tr·ªã c∆° s·ªü d·ªØ li·ªáu hi·ªán ƒë·∫°i cung c·∫•p m·ªôt t√≠nh nƒÉng ƒë·∫∑c bi·ªát ƒë·ªÉ x·ª≠ l√Ω v·∫•n ƒë·ªÅ n√†y ‚Äì **ch·ªâ m·ª•c**. Ch·ªâ m·ª•c gi√∫p tƒÉng t·ªëc ƒë√°ng k·ªÉ c√°c thao t√°c t√¨m ki·∫øm tr√™n c√°c b·∫£ng c∆° s·ªü d·ªØ li·ªáu.

Trong b√†i vi·∫øt n√†y, b·∫°n s·∫Ω t√¨m hi·ªÉu v·ªÅ c√°c lo·∫°i ch·ªâ m·ª•c ph·ªï bi·∫øn trong c∆° s·ªü d·ªØ li·ªáu v√† c√°ch ch√∫ng ƒë∆∞·ª£c tri·ªÉn khai.

---

### M·ªôt ph√©p ·∫©n d·ª• ƒë·ªùi th·ª±c

Tr∆∞·ªõc khi b·∫Øt ƒë·∫ßu v·ªõi ch·ªâ m·ª•c c∆° s·ªü d·ªØ li·ªáu, h√£y xem m·ªôt ph√©p ·∫©n d·ª•. H√£y t∆∞·ªüng t∆∞·ª£ng m·ªôt th∆∞ vi·ªán v·ªõi h√†ng ngh√¨n cu·ªën s√°ch. Ch·ªâ m·ª•c l√† danh s√°ch c√°c cu·ªën s√°ch ƒë∆∞·ª£c s·∫Øp x·∫øp theo c√°c ti√™u ch√≠ kh√°c nhau (v√≠ d·ª•: t√™n t√°c gi·∫£, ti√™u ƒë·ªÅ, nƒÉm ph√°t h√†nh). N·∫øu b·∫°n mu·ªën t√¨m m·ªôt cu·ªën s√°ch c·ª• th·ªÉ, b·∫°n s·∫Ω t√¨m trong ch·ªâ m·ª•c ch·ª© kh√¥ng ph·∫£i xem t·ª´ng cu·ªën m·ªôt.

T∆∞∆°ng t·ª± nh∆∞ v·∫≠y, ch·ªâ m·ª•c c∆° s·ªü d·ªØ li·ªáu l∆∞u tr·ªØ d·ªØ li·ªáu theo m·ªôt c√°ch d·ªÖ t√¨m ki·∫øm h∆°n. C√°c ch·ªâ m·ª•c gi√∫p truy xu·∫•t nhanh ch√≥ng b·∫±ng c√°ch duy·ªát qua m·ªôt t·∫≠p h·ª£p con c·ªßa d·ªØ li·ªáu thay v√¨ to√†n b·ªô b·∫£ng.

---

### Ch·ªâ m·ª•c trong c∆° s·ªü d·ªØ li·ªáu

Theo m·∫∑c ƒë·ªãnh, c√°c h·ªá qu·∫£n tr·ªã c∆° s·ªü d·ªØ li·ªáu kh√¥ng t·∫°o ch·ªâ m·ª•c tr·ª´ khi b·∫°n ch·ªâ r√µ ch√∫ng. Ch·ªâ m·ª•c l√† c√°c c·∫•u tr√∫c d·ªØ li·ªáu ƒë·∫∑c bi·ªát gi√∫p t√¨m ki·∫øm hi·ªáu qu·∫£ h∆°n. Tuy nhi√™n, c√≥ s·ª± ƒë√°nh ƒë·ªïi ‚Äì ch√∫ng chi·∫øm dung l∆∞·ª£ng b·ªô nh·ªõ b·ªï sung v√† l√†m ch·∫≠m c√°c thao t√°c ghi nh∆∞ `INSERT`, `UPDATE`, ho·∫∑c `DELETE`.

> üìå **L∆∞u √Ω:** C√†ng nhi·ªÅu ch·ªâ m·ª•c, c√†ng t·ªën t√†i nguy√™n. PostgreSQL, MySQL, SQLite v√† c√°c h·ªá qu·∫£n tr·ªã kh√°c ƒë·ªÅu cho ph√©p t·∫°o ch·ªâ m·ª•c th·ªß c√¥ng, v√¨ v·∫≠y b·∫°n n√™n ch·ªâ t·∫°o khi c·∫ßn thi·∫øt, d·ª±a tr√™n truy v·∫•n th·ª±c t·∫ø.

---

### Ph√¢n lo·∫°i ch·ªâ m·ª•c

D·ª±a theo PostgreSQL v√† MySQL (c√°c h·ªá th·ªëng ph·ªï bi·∫øn), c√≥ nhi·ªÅu lo·∫°i ch·ªâ m·ª•c kh√°c nhau. D∆∞·ªõi ƒë√¢y l√† m·ªôt s·ªë lo·∫°i ch·ªâ m·ª•c ch√≠nh ƒë∆∞·ª£c ph√¢n lo·∫°i theo:

#### ‚û§ Ch·ªâ m·ª•c ƒë∆°n gi·∫£n

Ch·ªâ m·ª•c ƒë∆°n gi·∫£n ch·ªâ bao g·ªìm m·ªôt c·ªôt. V√≠ d·ª•: `CREATE INDEX idx_name ON users(name);` s·∫Ω t·∫°o ch·ªâ m·ª•c tr√™n c·ªôt `name`.

#### ‚û§ Ch·ªâ m·ª•c ph·ª©c h·ª£p

Ch·ª©a nhi·ªÅu h∆°n m·ªôt c·ªôt (v√≠ d·ª•: `CREATE INDEX idx_comp ON users(first_name, last_name);`) v√† cho ph√©p c√°c truy v·∫•n theo nhi·ªÅu c·ªôt ƒë∆∞·ª£c t·ªëi ∆∞u h√≥a t·ªët h∆°n.

#### ‚û§ Ch·ªâ m·ª•c c·ª•m v√† kh√¥ng c·ª•m

* **C·ª•m (clustered index):** S·∫Øp x·∫øp d·ªØ li·ªáu v·∫≠t l√Ω tr√™n ƒëƒ©a theo th·ª© t·ª± c·ªßa ch·ªâ m·ª•c. M·ªói b·∫£ng ch·ªâ c√≥ m·ªôt ch·ªâ m·ª•c d·∫°ng c·ª•m.
* **Kh√¥ng c·ª•m (non-clustered):** L∆∞u tr·ªØ con tr·ªè t·ªõi v·ªã tr√≠ d·ªØ li·ªáu th·ª±c t·∫ø.

---

### Ph√¢n lo·∫°i theo c·∫•u tr√∫c d·ªØ li·ªáu

Theo c·∫•u tr√∫c d·ªØ li·ªáu, c√°c ch·ªâ m·ª•c ƒë∆∞·ª£c chia th√†nh b·ªën lo·∫°i ph·ªï bi·∫øn:

* **B-Tree (Balanced Tree)**
* **Hash**
* **Bitmap**
* **Spatial (Kh√¥ng gian)**

Ch√∫ng ta s·∫Ω t√¨m hi·ªÉu chi ti·∫øt hai lo·∫°i quan tr·ªçng nh·∫•t l√† **B-Tree** v√† **Hash**.

---

### B-Tree Index

ƒê√¢y l√† lo·∫°i ph·ªï bi·∫øn nh·∫•t. Khi b·∫°n kh√¥ng ch·ªâ r√µ lo·∫°i ch·ªâ m·ª•c, h·ªá qu·∫£n tr·ªã m·∫∑c ƒë·ªãnh s·∫Ω t·∫°o ch·ªâ m·ª•c d·∫°ng B-Tree.

#### ‚û§ Khi n√†o d√πng B-Tree?

* Khi c·∫ßn s·∫Øp x·∫øp d·ªØ li·ªáu (`ORDER BY`)
* Khi truy v·∫•n v·ªõi so s√°nh (`=`, `<`, `>`, `BETWEEN`, `IN`)
* Khi l·ªçc d·ªØ li·ªáu theo kho·∫£ng

> B-Tree l√† c·∫•u tr√∫c c√¢y nh·ªã ph√¢n c√¢n b·∫±ng. N√≥ l∆∞u tr·ªØ gi√° tr·ªã theo th·ª© t·ª± v√† duy tr√¨ th·ª© t·ª± ƒë√≥. Do v·∫≠y, t√¨m ki·∫øm tr√™n B-Tree r·∫•t hi·ªáu qu·∫£, th∆∞·ªùng l√† O(log n).

---

### Hash Index

Ch·ªâ m·ª•c d·∫°ng Hash d·ª±a tr√™n h√†m bƒÉm. N√≥ √°nh x·∫° m·ªôt gi√° tr·ªã ƒë·∫ßu v√†o t·ªõi m·ªôt gi√° tr·ªã bƒÉm c·ªë ƒë·ªãnh. ƒê∆∞·ª£c s·ª≠ d·ª•ng ch·ªß y·∫øu cho c√°c truy v·∫•n c√≥ ƒëi·ªÅu ki·ªán b·∫±ng (`=`).

#### ∆Øu ƒëi·ªÉm:

* Truy v·∫•n b·∫±ng `=` nhanh h∆°n B-Tree
* √çt b·ªô nh·ªõ h∆°n
* Tr√°nh vi·ªác ph·∫£i duy·ªát nhi·ªÅu node nh∆∞ B-Tree

#### Nh∆∞·ª£c ƒëi·ªÉm:

* Kh√¥ng h·ªó tr·ª£ so s√°nh `<`, `>`, `BETWEEN`, `ORDER BY`
* Kh√¥ng h·ªó tr·ª£ t√¨m ki·∫øm theo kho·∫£ng
* √çt ph·ªï bi·∫øn h∆°n trong c√°c h·ªá qu·∫£n tr·ªã

---

### C√°c lo·∫°i ch·ªâ m·ª•c kh√°c

* **Bitmap Index:** T·ªët cho c√°c c·ªôt c√≥ s·ªë l∆∞·ª£ng gi√° tr·ªã ri√™ng bi·ªát th·∫•p (nh·ªã ph√¢n, boolean).
* **Gi·∫£n ƒë·ªì ƒë·∫£o (inverted index):** D√πng trong h·ªá th·ªëng t√¨m ki·∫øm vƒÉn b·∫£n.
* **Ch·ªâ m·ª•c kh√¥ng gian:** D√πng cho d·ªØ li·ªáu ƒë·ªãa l√Ω.

---

### K·∫øt lu·∫≠n

Ch·ªâ m·ª•c trong c∆° s·ªü d·ªØ li·ªáu r·∫•t quan tr·ªçng ƒë·ªÉ tƒÉng hi·ªáu su·∫•t truy v·∫•n. D∆∞·ªõi ƒë√¢y l√† t√≥m t·∫Øt:

* **B-Tree:** ƒêa nƒÉng nh·∫•t, h·ªó tr·ª£ nhi·ªÅu lo·∫°i truy v·∫•n.
* **Hash:** Hi·ªáu qu·∫£ v·ªõi truy v·∫•n `=`, nh∆∞ng kh√¥ng h·ªó tr·ª£ c√°c ph√©p so s√°nh kh√°c.
* **Bitmap & Inverted:** T·ªëi ∆∞u cho d·ªØ li·ªáu ƒë·∫∑c bi·ªát nh∆∞ boolean ho·∫∑c vƒÉn b·∫£n.

Vi·ªác ch·ªçn ƒë√∫ng ch·ªâ m·ª•c ph·ª• thu·ªôc v√†o lo·∫°i d·ªØ li·ªáu v√† lo·∫°i truy v·∫•n b·∫°n th·ª±c hi·ªán th∆∞·ªùng xuy√™n.

---

## **Ph√¢n t√≠ch c√°c truy v·∫•n SQL ‚Äì Gi·∫£i th√≠ch v·ªõi EXPLAIN v√† c√°c ch·ªâ s·ªë**

Khi t·ªëi ∆∞u h√≥a hi·ªáu su·∫•t truy v·∫•n, m·ªôt b∆∞·ªõc quan tr·ªçng l√† **ph√¢n t√≠ch truy v·∫•n**. Vi·ªác hi·ªÉu ƒë∆∞·ª£c c√°ch truy v·∫•n ƒë∆∞·ª£c th·ª±c thi gi√∫p b·∫°n ƒëi·ªÅu ch·ªânh ƒë·ªÉ c·∫£i thi·ªán hi·ªáu su·∫•t. PostgreSQL cung c·∫•p t·ª´ kh√≥a `EXPLAIN` ƒë·ªÉ ki·ªÉm tra k·∫ø ho·∫°ch th·ª±c thi c·ªßa truy v·∫•n.

---

### **Ph√¢n t√≠ch c∆° s·ªü d·ªØ li·ªáu m·∫´u**

Ta s·∫Ω s·ª≠ d·ª•ng m·ªôt c∆° s·ªü d·ªØ li·ªáu m·∫´u g·ªìm hai b·∫£ng: `employees` v√† `salary`, trong ƒë√≥ `employees` ch·ª©a th√¥ng tin nh√¢n vi√™n v√† `salary` ch·ª©a m·ª©c l∆∞∆°ng ·ª©ng v·ªõi th·ªùi gian.

```sql
CREATE TABLE employees (
  id SERIAL PRIMARY KEY,
  name VARCHAR(100) NOT NULL,
  department VARCHAR(50) NOT NULL,
  hire_date DATE NOT NULL
);

CREATE TABLE salary (
  id SERIAL PRIMARY KEY,
  emp_id INTEGER NOT NULL REFERENCES employees(id),
  amount NUMERIC NOT NULL,
  from_date DATE NOT NULL,
  to_date DATE,
  CONSTRAINT unique_salary UNIQUE(emp_id, from_date),
  FOREIGN KEY (emp_id) REFERENCES employees(id)
);
```

---

### **Truy v·∫•n m·∫´u**

Gi·∫£ s·ª≠ b·∫°n mu·ªën t√¨m t√™n nh√¢n vi√™n v√† l∆∞∆°ng hi·ªán t·∫°i:

```sql
SELECT name, amount
FROM employees e
JOIN salary s ON e.id = s.emp_id
WHERE s.to_date IS NULL;
```

---

### **T·ª´ kh√≥a EXPLAIN**

T·ª´ kh√≥a `EXPLAIN` cho ph√©p b·∫°n xem **k·∫ø ho·∫°ch th·ª±c thi truy v·∫•n**. N√≥ cho bi·∫øt c√°ch PostgreSQL d·ª± ƒë·ªãnh truy xu·∫•t d·ªØ li·ªáu ‚Äì c√≥ s·ª≠ d·ª•ng ch·ªâ m·ª•c kh√¥ng, qu√©t to√†n b·ªô b·∫£ng hay join nh∆∞ th·∫ø n√†o.

```sql
EXPLAIN ANALYZE
SELECT name, salary
FROM employees e
JOIN salary s ON e.id = s.emp_id
WHERE s.to_date IS NULL;
```

K·∫øt qu·∫£ m·∫´u:

```
Nested Loop (cost=0.00..12.75 rows=5 width=32)
  -> Seq Scan on employees e  (cost=0.00..1.05 rows=5 width=16)
  -> Index Scan using salary_emp_id_idx on salary s  (cost=0.00..2.50 rows=1 width=16)
       Index Cond: (emp_id = e.id)
       Filter: (to_date IS NULL)
```

---

### **Chi ti·∫øt v·ªÅ k·∫ø ho·∫°ch**

* **Seq Scan**: Qu√©t tu·∫ßn t·ª± to√†n b·ªô b·∫£ng (kh√¥ng d√πng ch·ªâ m·ª•c).
* **Index Scan**: Qu√©t b·∫±ng ch·ªâ m·ª•c ƒë√£ c√≥.
* **Filter**: ƒêi·ªÅu ki·ªán WHERE ƒë∆∞·ª£c √°p d·ª•ng sau khi truy xu·∫•t.
* **Cost**: D·ª± ƒëo√°n chi ph√≠ c·ªßa truy v·∫•n.
* **Rows**: D·ª± ƒëo√°n s·ªë d√≤ng k·∫øt qu·∫£.

Nh·ªØng th√¥ng tin n√†y gi√∫p b·∫°n x√°c ƒë·ªãnh ph·∫ßn n√†o c·ªßa truy v·∫•n c·∫ßn t·ªëi ∆∞u h∆°n.

---

### **D√πng k·∫ø ho·∫°ch ƒë·ªÉ t·ªëi ∆∞u truy v·∫•n**

V√≠ d·ª•, b·∫°n t·∫°o m·ªôt ch·ªâ m·ª•c ƒë·ªÉ t·ªëi ∆∞u h√≥a ƒëi·ªÅu ki·ªán `to_date IS NULL`:

```sql
CREATE INDEX idx_salary_to_date ON salary(to_date);
```

Sau khi t·∫°o ch·ªâ m·ª•c, ch·∫°y l·∫°i `EXPLAIN` b·∫°n s·∫Ω th·∫•y k·∫ø ho·∫°ch thay ƒë·ªïi:

```
Bitmap Heap Scan on salary
  -> Bitmap Index Scan on idx_salary_to_date
       Index Cond: (to_date IS NULL)
```

Khi ƒë√≥ PostgreSQL s·ª≠ d·ª•ng ch·ªâ m·ª•c m·ªõi thay v√¨ qu√©t to√†n b·∫£ng.

---

### **So s√°nh k·∫øt qu·∫£ d·ª± ƒëo√°n v√† th·ª±c t·∫ø**

S·ª≠ d·ª•ng `EXPLAIN ANALYZE` b·∫°n s·∫Ω th·∫•y s·ªë h√†ng d·ª± ƒëo√°n v√† s·ªë h√†ng th·ª±c t·∫ø. ƒêi·ªÅu n√†y gi√∫p ƒë√°nh gi√° ƒë·ªô ch√≠nh x√°c c·ªßa th·ªëng k√™ d·ªØ li·ªáu:

```sql
EXPLAIN ANALYZE
SELECT name, amount
FROM employees e
JOIN salary s ON e.id = s.emp_id
WHERE s.to_date IS NULL;
```

K·∫øt qu·∫£:

```
Rows Removed by Filter: 20
Actual Rows: 5
```

N·∫øu d·ª± ƒëo√°n kh√°c xa th·ª±c t·∫ø, b·∫°n n√™n c·∫≠p nh·∫≠t th·ªëng k√™:

```sql
ANALYZE;
```

---

### **K·∫øt lu·∫≠n**

Ph√¢n t√≠ch truy v·∫•n l√† m·ªôt k·ªπ nƒÉng quan tr·ªçng gi√∫p c·∫£i thi·ªán hi·ªáu su·∫•t. B·∫±ng c√°ch d√πng `EXPLAIN`, `ANALYZE`, v√† th√™m ch·ªâ m·ª•c ph√π h·ª£p, b·∫°n c√≥ th·ªÉ t·ªëi ∆∞u h√≥a ƒë√°ng k·ªÉ c√°c truy v·∫•n c·ªßa m√¨nh. PostgreSQL cung c·∫•p nhi·ªÅu c√¥ng c·ª• ƒë·ªÉ b·∫°n ki·ªÉm tra, ƒë√°nh gi√° v√† ƒëi·ªÅu ch·ªânh hi·ªáu qu·∫£ th·ª±c thi truy v·∫•n.

---

### **R√†ng bu·ªôc trong SQL**

M·ªói c·ªôt trong b·∫£ng ƒë·ªÅu c√≥ m·ªôt ki·ªÉu d·ªØ li·ªáu c·ª• th·ªÉ, v√¨ v·∫≠y kh√¥ng th·ªÉ ch√®n vƒÉn b·∫£n v√†o m·ªôt c·ªôt ki·ªÉu INT ho·∫∑c s·ªë th·∫≠p ph√¢n v√†o m·ªôt c·ªôt ki·ªÉu BOOLEAN trong d·ªØ li·ªáu SQL. Ki·ªÉu d·ªØ li·ªáu gi√∫p ƒë·∫£m b·∫£o t√≠nh ch√≠nh x√°c c·ªßa d·ªØ li·ªáu. Ngo√†i ra, ƒë√¥i khi ch√∫ng ta mu·ªën h·∫°n ch·∫ø d·ªØ li·ªáu ƒë∆∞·ª£c th√™m v√†o, v√≠ d·ª•: kh√¥ng ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng, ph·∫£i l√† duy nh·∫•t, l·ªõn h∆°n m·ªôt gi√° tr·ªã nh·∫•t ƒë·ªãnh, v.v. Nh·ªØng r√†ng bu·ªôc n√†y ƒë∆∞·ª£c g·ªçi l√† **r√†ng bu·ªôc** (constraints).

---

### **V√≠ d·ª•**

C√°c r√†ng bu·ªôc ph·ªï bi·∫øn nh·∫•t l√†: `NOT NULL`, `UNIQUE`, `CHECK`, `DEFAULT`, `PRIMARY KEY` v√† `FOREIGN KEY`. Trong ph·∫ßn n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu v·ªÅ r√†ng bu·ªôc ƒë·∫ßu ti√™n: **NOT NULL**.

Gi·∫£ s·ª≠ ch√∫ng ta c√≥ b·∫£ng ƒë∆°n gi·∫£n sau. B·∫£ng n√†y t·∫°o ra m·ªôt b·∫£ng `employees` c√≥ 3 c·ªôt: `personal_id`, `first_name`, `last_name`:

```sql
CREATE TABLE employees (
  personal_id INT,
  first_name VARCHAR(20),
  last_name VARCHAR(20)
);
```

---

### **R√†ng bu·ªôc `NOT NULL`**

R√†ng bu·ªôc `NOT NULL` ƒë·∫£m b·∫£o r·∫±ng kh√¥ng ƒë∆∞·ª£c ph√©p th√™m gi√° tr·ªã `NULL` v√†o c·ªôt ƒë√≥.

V√≠ d·ª•, th√™m r√†ng bu·ªôc `NOT NULL` cho c·ªôt `first_name`:

```sql
ALTER TABLE employees
MODIFY first_name VARCHAR(20) NOT NULL;
```

Sau ƒë√≥, n·∫øu b·∫°n c·ªë g·∫Øng th√™m m·ªôt nh√¢n vi√™n m√† kh√¥ng c√≥ t√™n, b·∫°n s·∫Ω g·∫∑p l·ªói.

B·∫°n c≈©ng c√≥ th·ªÉ th√™m `NOT NULL` khi t·∫°o b·∫£ng:

```sql
CREATE TABLE employees (
  personal_id INT,
  first_name VARCHAR(20) NOT NULL,
  last_name VARCHAR(20)
);
```

---

### **R√†ng bu·ªôc `UNIQUE`**

R√†ng bu·ªôc `UNIQUE` ngƒÉn vi·ªác ch√®n c√°c gi√° tr·ªã tr√πng l·∫∑p v√†o c·ªôt. V√≠ d·ª•, n·∫øu `personal_id` c·∫ßn l√† duy nh·∫•t:

```sql
CREATE TABLE employees (
  personal_id INT UNIQUE,
  first_name VARCHAR(20),
  last_name VARCHAR(20)
);
```

Th√™m `UNIQUE` cho b·∫£ng ƒë√£ c√≥ s·∫µn:

```sql
ALTER TABLE employees
ADD UNIQUE (personal_id);
```

N·∫øu c·∫ßn ch·ªâ ƒë·ªãnh nhi·ªÅu h∆°n m·ªôt c·ªôt l√† duy nh·∫•t, b·∫°n c√≥ th·ªÉ vi·∫øt:

```sql
CREATE TABLE employees (
  personal_id INT,
  first_name VARCHAR(20),
  last_name VARCHAR(20),
  CONSTRAINT un_id_name UNIQUE (personal_id, last_name)
);
```

X√≥a r√†ng bu·ªôc UNIQUE:

```sql
ALTER TABLE employees
DROP INDEX un_id_name;
```

---

### **R√†ng bu·ªôc `CHECK`**

R√†ng bu·ªôc `CHECK` d√πng ƒë·ªÉ ki·ªÉm tra ƒëi·ªÅu ki·ªán logic. V√≠ d·ª•, ch·ªâ cho ph√©p tu·ªïi nh√¢n vi√™n l·ªõn h∆°n 16:

```sql
CREATE TABLE employees (
  personal_id INT,
  first_name VARCHAR(20),
  last_name VARCHAR(20),
  age INT CHECK (age > 16)
);
```

Ho·∫∑c th√™m v√†o b·∫£ng c√≥ s·∫µn:

```sql
ALTER TABLE employees
ADD CHECK (age > 16);
```

Ho·∫∑c r√†ng bu·ªôc ph·ª©c t·∫°p h∆°n:

```sql
CREATE TABLE employees (
  ...
  CHECK (age > 16 AND personal_id > 0)
);
```

B·∫°n c√≥ th·ªÉ x√≥a r√†ng bu·ªôc `CHECK`:

```sql
ALTER TABLE employees
DROP CHECK age;
```

---

### **R√†ng bu·ªôc `DEFAULT`**

R√†ng bu·ªôc `DEFAULT` ƒë·∫∑t gi√° tr·ªã m·∫∑c ƒë·ªãnh n·∫øu kh√¥ng c√≥ gi√° tr·ªã n√†o ƒë∆∞·ª£c cung c·∫•p.

```sql
CREATE TABLE employees (
  first_name VARCHAR(20) DEFAULT 'John',
  last_name VARCHAR(20) DEFAULT 'Doe'
);
```

Th√™m r√†ng bu·ªôc `DEFAULT`:

```sql
ALTER TABLE employees
ALTER first_name SET DEFAULT 'John';
```

X√≥a:

```sql
ALTER TABLE employees
ALTER first_name DROP DEFAULT;
```

---

### **K·∫øt h·ª£p nhi·ªÅu r√†ng bu·ªôc**

M·ªôt c·ªôt c√≥ th·ªÉ c√≥ nhi·ªÅu r√†ng bu·ªôc. V√≠ d·ª•, k·∫øt h·ª£p `NOT NULL`, `UNIQUE`, `DEFAULT`, v√† `CHECK`:

```sql
CREATE TABLE employees (
  personal_id INT NOT NULL UNIQUE,
  first_name VARCHAR(20) NOT NULL DEFAULT 'John',
  last_name VARCHAR(20) NOT NULL DEFAULT 'Doe',
  age INT DEFAULT 17,
  CHECK (age > 16)
);
```

---

### **K·∫øt lu·∫≠n**

Gi·ªù b·∫°n ƒë√£ bi·∫øt c√°ch t·∫°o b·∫£ng ƒë∆°n gi·∫£n, th√™m r√†ng bu·ªôc ƒë·ªÉ ƒë·∫£m b·∫£o d·ªØ li·ªáu h·ª£p l·ªá v√† r√µ r√†ng h∆°n khi t·∫°o b·∫£ng, th√™m r√†ng bu·ªôc v√†o b·∫£ng c√≥ s·∫µn v√† x√≥a r√†ng bu·ªôc n·∫øu c·∫ßn.

---

